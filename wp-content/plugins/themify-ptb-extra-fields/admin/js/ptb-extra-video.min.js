var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var b=a.length,e=0;e<b;e++){var h=a[e];if(c.call(d,h,e,a))return{i:e,v:h}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,d,b){if(c){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var e=a[b];e in d||(d[e]={});d=d[e]}a=a[a.length-1];b=d[a];c=c(b);c!=b&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
(function(a){a(document).on("ptb_add_metabox_video",function(a){return{}}).on("ptb_post_cmb_video_body_handle",function(c){function d(c){c.preventDefault();c.data.item.hide("blind",500,function(){a(this).remove()})}var b=c.cmbItemBody.find(".ptb_cmb_options_wrapper");if(0===b.length)return!1;var e=b.children().first().clone();b.sortable({placeholder:"ui-state-highlight"});c.cmbItemBody.find(".ptb_cmb_option_add").click({wrapper:b},function(a){var f=e.clone();f.appendTo(b).hide().show("blind",500);
f.find('[name^="'+c.id+'"]').val("");f.find(".ptb_post_cmb_image").removeClass("ptb_uploaded");f.find("."+c.id+"_remove").click({item:f},d);a.data.wrapper.sortable("refresh")});b.children().each(function(){var b=a(this);b.find("."+c.id+"_remove").click({item:b},d)});a(".ptb_post_cmb_item_video").on("click","."+c.id+"_option_wrapper .ptb_post_cmb_image",function(b){b.preventDefault();var d=a(this),e=d.closest("li"),h=wp.media.frames.file_frame=wp.media({title:a(this).data("uploader_title"),button:{text:a(this).data("uploader_button_text")},
library:{type:"video"},multiple:!1}).on("select",function(){var b=h.state().get("selection").first().toJSON(),f=0<a("#auto_draft").length,g=e.find('input[name^="'+c.id+'[title]"]');!f&&a.trim(g.val())||g.val(b.title);g=e.find("textarea");(f||a.trim(g.val()))&&g.val(b.caption);e.find('input[name^="'+c.id+'[url]"]').val(b.url);e.find("textarea").val(b.caption);d.addClass("ptb_uploaded")}).open()})})})(jQuery);
