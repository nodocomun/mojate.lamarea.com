var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,c){a instanceof String&&(a=String(a));for(var b=a.length,d=0;d<b;d++){var f=a[d];if(e.call(c,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,c,b){if(e){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var d=a[b];d in c||(c[d]={});c=c[d]}a=a[a.length-1];b=c[a];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
(function(a){function e(a){var b={};if(a.match("http(s)?://(www.)?youtube|youtu.be"))a=a.match("embed")?a.split(/embed\//)[1].split('"')[0]:a.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],b.host="youtube",b.url="//img.youtube.com/vi/"+a+"/default.jpg";else if(a=a.match(/vimeo.com\/.*?\/?(\d+)/i))b.host="vimeo",b.url="http://www.vimeo.com/api/v2/video/"+a[1];return b.host?b:!1}a(document).ready(function(){a("body").on("focusout",".ptb-submission-form .ptb_extra_video_url",function(){var c=a.trim(a(this).val()),
b=a(this).closest("li").find(".ptb-submission-priview");b.next("span").remove();a(this).removeClass("ptb-submission-required-error");if(c){if(b.find("img").data("url")!=c){var d=e(c);if(d)if("vimeo"===d.host){var f=a(this);a.getJSON(d.url+".json?callback=?",{format:"json"},function(d){d?b.hide("blind",300,function(){a(this).html('<img data-url="'+c+'" width="100" height="75" src="'+d[0].thumbnail_small+'" />');a(this).show("blind",300)}):(b.html("").hide().after('<span class="ptb-submission-file-danger ptb-submission-error-text">'+
ptb_submission_video.video_error+"</span>"),f.addClass("ptb-submission-required-error"))})}else b.hide("blind",300,function(){a(this).html('<img data-url="'+c+'" width="120" height="90" src="'+d.url+'" />');a(this).show("blind",300)});else b.html("").hide().after('<span class="ptb-submission-file-danger ptb-submission-error-text">'+ptb_submission_video.video_error+"</span>"),a(this).addClass("ptb-submission-required-error")}}else b.hide("blind",300,function(){a(this).html("").hide()})});a(".ptb-submission-form .ptb_extra_video_url").each(function(){a.trim(a(this).val())&&
a(this).trigger("focusout")})})})(jQuery);
