var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var k=a[e];if(b.call(c,k,e,a))return{i:e,v:k}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
(function(a,b){a.fn.ptb_wp_editor=function(c){a(this).is("textarea")||console.warn("Element must be a textarea");"undefined"!=typeof tinyMCEPreInit&&"undefined"!=typeof QTags&&"undefined"!=typeof ap_vars||console.warn("ptb_wp_editor( $settings ); must be loaded");if(!a(this).is("textarea")||"undefined"==typeof tinyMCEPreInit||"undefined"==typeof QTags||"undefined"==typeof ap_vars)return this;var b={mode:"html",mceInit:{theme:"modern",skin:"lightgray",language:"en",formats:{alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",
styles:{textAlign:"left"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["alignleft"],deep:!1,remove:"none"}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["aligncenter"],deep:!1,remove:"none"}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["alignright"],
deep:!1,remove:"none"}],strikethrough:{inline:"del",deep:!0,split:!0}},relative_urls:!1,remove_script_host:!1,convert_urls:!1,browser_spellcheck:!0,fix_list_elements:!0,entities:"38,amp,60,lt,62,gt",entity_encoding:"raw",keep_styles:!1,paste_webkit_styles:"font-weight font-style color",preview_styles:"font-family font-size font-weight font-style text-decoration text-transform",wpeditimage_disable_captions:!1,wpeditimage_html5_captions:!1,width:"100%",height:400,autoresize_min_height:400,autoresize_max_height:800,
plugins:"wpautoresize,charmap,hr,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpeditimage,wpgallery,wplink,wpdialogs,wpview,image",content_css:ap_vars.includes_url+"css/dashicons.css?ver=4.5.2,"+ap_vars.includes_url+"js/mediaelement/mediaelementplayer.min.css?ver=4.5.2,"+ap_vars.includes_url+"js/mediaelement/wp-mediaelement.css?ver=4.5.2,"+ap_vars.includes_url+"js/tinymce/skins/lightgray/wp-content.css?ver=4.5.2",selector:"#apid",resize:"vertical",menubar:!1,wpautop:!0,indent:!1,toolbar1:"bold,italic,strikethrough,bullist,numlist,blockquote,hr,alignleft,aligncenter,alignright,link,unlink,wp_more,spellchecker,wp_adv",
toolbar2:"formatselect,underline,alignjustify,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",toolbar4:"",tabfocus_elements:":prev,:next",body_class:"ptb_editor"}},e=RegExp("apid","g");tinyMCEPreInit.mceInit.apid&&(b.mceInit=tinyMCEPreInit.mceInit.apid);c=a.extend(!0,b,c);return this.each(function(){if(a(this).is("textarea")){var b=a(this).attr("id");a.each(c.mceInit,function(d,f){"string"==a.type(f)&&(c.mceInit[d]=f.replace(e,b))});c.mode="tmce"==c.mode?"tmce":"html";tinyMCEPreInit.mceInit[b]=
c.mceInit;a(this).addClass("wp-editor-area").show();var d=this;a(this).closest(".wp-editor-wrap").length&&(d=a(this).closest(".wp-editor-wrap").parent(),a(this).closest(".wp-editor-wrap").before(a(this).clone()),a(this).closest(".wp-editor-wrap").remove(),d=d.find('textarea[id="'+b+'"]'));var f=a('<div id="wp-'+b+'-wrap" class="wp-core-ui wp-editor-wrap '+c.mode+'-active" />'),g=a('<div id="wp-'+b+'-editor-tools" class="wp-editor-tools hide-if-no-js" />'),h=a('<div class="wp-editor-tabs" />'),n=a('<a id="'+
b+'-html" data-wp-editor-id="'+b+'" class="wp-switch-editor switch-html" onclick="switchto(this);">Text</a>'),p=a('<a id="'+b+'-tmce" data-wp-editor-id="'+b+'" class="wp-switch-editor switch-tmce" onclick="switchto(this);">Visual</a>'),l=a('<div id="wp-'+b+'-media-buttons" class="wp-media-buttons" />'),q=a('<a href="#" id="'+b+'-insert-media-button" class="button insert-media add_media" data-editor="'+b+'" title="Add Media"><span class="wp-media-buttons-icon"></span> Add Media</a>'),m=a('<div id="wp-'+
b+'-editor-container" class="wp-editor-container" />');q.appendTo(l);l.appendTo(g);n.appendTo(h);p.appendTo(h);h.appendTo(g);g.appendTo(f);m.appendTo(f);m.append(a(d).clone().addClass("wp-editor-area"));a(d).before('<link rel="stylesheet" id="editor-buttons-css" href="'+ap_vars.includes_url+'css/editor.css" type="text/css" media="all">');a(d).before(f);a(d).remove();new QTags(b);QTags._buttonsInit();a(f).on("click",".insert-media",function(b){a(f).find(".switch-html").trigger("click");var c=a(b.currentTarget),
d=c.data("editor"),e={frame:"post",state:"insert",title:wp.media.view.l10n.addMedia,multiple:!0};b.preventDefault();c.hasClass("gallery")&&(e.state="gallery",e.title=wp.media.view.l10n.createGalleryTitle);a(f).find(".switch-tmce").trigger("click");c.blur();wp.media.editor.open(d,e)})}else console.warn("Element must be a textarea")})}})(jQuery,window);
var switchto=function(a){if("undefined"!==typeof tinymce){var b=jQuery(a).attr("id").split("-"),b=b[0],c=jQuery("#wp-"+b+"-wrap");c.removeClass("tmce-active html-active");var d=c.find(".mce-tinymce"),e=jQuery("#"+b),b=tinyMCE.get(b);jQuery(a).hasClass("switch-tmce")?(c.addClass("tmce-active"),d.show(),e.hide(),b&&b.setContent(e.val())):(c.addClass("html-active"),d.hide(),e.show(),b&&e.val(b.getContent()))}return!1};
