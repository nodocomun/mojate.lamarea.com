var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,k,g){a instanceof String&&(a=String(a));for(var n=a.length,p=0;p<n;p++){var b=a[p];if(k.call(g,b,p,a))return{i:p,v:b}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,k,g){a!=Array.prototype&&a!=Object.prototype&&(a[k]=g.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,k,g,n){if(k){g=$jscomp.global;a=a.split(".");for(n=0;n<a.length-1;n++){var p=a[n];p in g||(g[p]={});g=g[p]}a=a[a.length-1];n=g[a];k=k(n);k!=n&&null!=k&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,g){return $jscomp.findInternal(this,a,g).v}},"es6-impl","es3");
(function(a){function k(a){for(var b=window.location.search.substring(1).split("&"),f=0;f<b.length;f++){var c=b[f].split("=");if(c[0]===a)return c[1]}return!1}function g(b){a(function(){b.init&&b.init()});return b}g(function(){return{init:function(){a("#ptb-cpt-filter")}}}());g(function(){var b,e,f,c,u,h,d,q,l,m,g,n,t,p=function(b,d,e){var c="#"+d.type+"_\\{\\{id\\}\\}";if(0<a(c).length){var f=e?new RegExp(d.type+"_{{id}}","gi"):RegExp("{{id}}","gi"),c=a(c).clone()[0].outerHTML.replace(f,e?b:d.id),
c=a(c).appendTo(n),f=c.find("input[id^="+b+"_name_]"),h=c.find("input[id^="+b+"_description_]"),l=c.find("input[id^="+b+"_slug]");f.each(function(){var c=a(this).attr("id").replace(b+"_name_","");a(this).val(d.name[c])});h.each(function(){var c=a(this).attr("id").replace(b+"_description_","");a(this).val(d.description[c])});l.val(b);e&&l.prop("readonly",!0);e=c.find(".ptb_cmb_item_body");z(c.find(".ptb_cmb_item_remove"));A(c.find(".ptb_cmb_item_collapse"));a.event.trigger({type:"ptb_metabox_create",
id:b,options:d,container:e});a.event.trigger({type:"ptb_metabox_create_"+d.type,id:b,options:d,container:e});c.data(b,d);return c}return!1},r=function(){var b=g.val();if(b){try{m=a.parseJSON(b),a.isArray(m)&&(m={})}catch(F){return}a.each(m,function(a,b){var c=p(a,b,1);c&&c.show()});n.sortable({placeholder:"ui-state-highlight"})}},w=function(a){return a.replace(/[^A-Za-z0-9_]+/g,"_").toLowerCase()},B=function(){m={};n.children().each(function(b,c){var d=c.id,e=d,f=a("input[id^="+d+"_slug]");f&&!f.prop("readonly")&&
(d=c.id=w(f.val()),a(c).find("input,select,.ptb_cmb_options_wrapper").each(function(){var b=a(this).prop("name"),c=a(this).prop("id");b&&a(this).prop("name",b.replace(e,d));c&&a(this).prop("id",c.replace(e,d))}),a("#"+e).prop("id",d));m[d]=a.data(c)[e];var f=a("input[id^="+d+"_name_]"),h=a("input[id^="+d+"_description]");m[d].name={};f.each(function(){var b=a(this).attr("id").replace(d+"_name_","");m[d].name[b]=a(this).val()});m[d].description={};h.each(function(){var b=a(this).attr("id").replace(d+
"_description_","");m[d].description[b]=a(this).val()});a.event.trigger({type:"ptb_metabox_save_"+m[d].type,id:d,options:m[d]})});g.val(JSON.stringify(m))},C=function(b){var d=a.map(m,function(a){if(a.type===b)return a.id}),d=d.filter(function(a){return 0<a});(d=0===d.length?0:Math.max.apply(null,d))||(d=0);return d+1},A=function(b){a(b).on("click",function(b){a(this).toggleClass("ti-angle-down");a(this).parent().next().toggle("blind",500)})},z=function(b){a(b).on("click",function(b){b=a(this).parents(".ptb_cmb_item_wrapper");
var d=b.attr("id");b.hide("blind",500);b.data(d).deleted=!0})},D=function(){t.hide();a(".ptb_cmb_add_field").hover(function(a){t.is(":visible")||t.show()}).mouseleave(function(a){t.data("timeout",setTimeout(function(){t.hide()},150))});t.mouseenter(function(b){clearTimeout(a(this).data("timeout"))}).mouseleave(function(a){clearTimeout(t.data("timeout"));t.data("timeout",setTimeout(function(){t.hide()},150))});t.children().each(function(b,d){var c=a(this).data("type");a(d).on("click",function(b){b.preventDefault();
a.event.trigger({type:"ptb_add_metabox"});a.event.trigger({type:"ptb_add_metabox_"+c})});a(document).on("ptb_add_metabox_"+c,function(a){a=a.result||{};var b=C(c),d=c+"_"+b;a.type=c;a.id=b;a.deleted=!1;a.name="";a.description="";m[d]=a;p(d,a,!1).hide().show("blind",500);n.sortable("refresh")})})},E=function(){var b=a("form"),r;if("add"===k("action"))e.on("keyup change",function(){q=a(this).val().replace(/[^A-Za-z0-9_]+/g,"-").toLowerCase();f.val()!==q&&(f.val(q).change(),u.val(q))});f.on("change",
function(){q=a(this).val();if(d!==q||""===q)clearTimeout(r),r=setTimeout(function(){y(q)},250)});a("body").on("focusout",c,function(b){if(a(this).prop("readonly"))a(this).off("focusout");else{var d=w(a(this).val());a(this).val(d);a(".ptb_meta_slug_error").removeClass("ptb_meta_slug_error");x(a(this).data("prev_value")+" already exists",!1);if(d){var e=!1,f=a(this).prop("id");a(c).each(function(){a(this).val()===d&&f!==a(this).prop("id")&&(a(this).addClass("ptb_meta_slug_error"),e=1)});e?(x(d+" already exists",
!0),a(this).addClass("ptb_meta_slug_error").data("prev_value",d)):a(this).data("ptb_focus",1)}else a(this).val(a(this).closest(".ptb_cmb_item_wrapper").prop("id")).trigger("focusout")}}).on("focusout",h,function(){var b=a(this).closest(".ptb_cmb_item_wrapper").prop("id");a("#"+b+"_slug").prop("readonly")||a("#"+b+"_slug").data("ptb_focus")?a(this).off("focusout"):a("#"+b+"_slug").val(w(a(this).val())).trigger("focusout")});b.submit(function(b){var e=!0;l.find("p").remove();if(""===q||d!==q)e=!y(q,
!1);var f=[];a("input[id^=ptb_cpt_singular_label_],input[id^=ptb_cpt_plural_label_]").each(function(){if(!a.trim(a(this).val())){e=!1;var b=a(this).closest("tr").find("label").text();f[b]||(x(b+" can't be empty",!0),f[b]=1)}});a(c).trigger("focusout");0<a(".ptb_meta_slug_error").length&&(e=!1);e?B():(a("html, body").animate({scrollTop:0},"slow"),b.preventDefault())});b.find(".ptb-collapse + table").each(function(){a(this).hide().find("th").first().attr("colspan",2)});b.find("table").after('<div class="ptb-collapse-separator"></div>');
var b=b.find(".ptb-collapse"),m=b.prev("h2");0===m.length&&(m=b.prev("h3"));m.addClass("ptb-collapse-title").prepend('<span class="ti-plus circle"></span>').click(function(){a(this).nextAll("table").first().toggle("blind",500)})},y=function(b,d){d="undefined"!==typeof d?d:!0;var c=!0;a.ajax({type:"POST",url:ajaxurl,data:{action:"ptb_ajax_post_type_name_validate",nonce:a.trim(a("#ptb-ajax-notification-nonce").text()),slug:b},async:d,success:function(b){c=a.trim(b)?!0:!1;x(b,c)}});return c},x=function(a,
b){if(b)0===l.find("p:contains("+a+")").length&&l.append("<p>"+a+"</p>"),l.fadeIn();else if(0===l.find("p").length||a)a?(l.find("p:contains("+a+")").remove(),0===l.find("p").length&&l.fadeOut("fast")):l.fadeOut("fast")};return{init:function(){b=a("#ptb_cpt_id");if(0===b.length)var m=!1;else e=a("#ptb_cpt_singular_label_"+ptb_js.lng),f=a("#ptb_cpt_slug"),c=".ptb_cmb_items_wrapper .ptb_cmb_slug",h='.ptb_cmb_items_wrapper .ptb_active_lng.ptb_meta_name input[type="text"]',u=a("#ptb_cpt_rewrite_slug"),
l=a("#ptb_ajax_message"),d=b.val(),q=f.val(),g=a("#ptb_post_type_cmb_data"),n=a(".ptb_cmb_items_wrapper"),t=a(".ptb_cmb_buttons_wrapper"),m=!0;m&&(D(),r(),E())}}}());g(function(){return{init:function(){a("#ptb-ctx-filter")}}}());g(function(){var b,e,f,c,u,h=function(){var b=a("form"),h;if("add"===k("action"))a("#ptb_ctx_singular_label_"+ptb_js.lng).on("keyup keypress blur change",function(){c=a(this).val().replace(/[^A-Za-z0-9_]+/g,"_").toLowerCase();e.val()!==c&&e.val(c).change()});e.on("change",
function(){c=a(this).val();if(f!==c||""===c)clearTimeout(h),h=setTimeout(function(){d(c)},250)});b.submit(function(b){var e=!0;u.find("p").remove();if(""===c||f!==c)e=!d(c,!1);var h=[];a("input[id^=ptb_ctx_singular_label_],input[id^=ptb_ctx_plural_label_]").each(function(){if(!a.trim(a(this).val())){e=!1;var b=a(this).closest("tr").find("label").text();h[b]||(q(b+" can't be empty",!0),h[b]=1)}});e||(a("html, body").animate({scrollTop:0},"slow"),b.preventDefault())});b.find(".ptb-collapse + table").hide();
b.find("table").after('<div class="ptb-collapse-separator"></div>');var b=b.find(".ptb-collapse"),g=b.prev("h2");0===g.length&&(g=b.prev("h3"));g.addClass("ptb-collapse-title").prepend('<span class="ti-plus circle"></span>').click(function(){a(this).nextAll("table").first().toggle("blind",500)})},d=function(b,d){d="undefined"!==typeof d?d:!0;var c=!0;a.ajax({type:"POST",url:ajaxurl,data:{action:"ptb_ajax_taxonomy_name_validate",nonce:a.trim(a("#ptb-ajax-notification-nonce").text()),slug:b},async:d,
success:function(b){c=a.trim(b)?!0:!1;q(b,c)}});return c},q=function(a,b){b?(u.append("<p>"+a+"</p>"),u.fadeIn()):0===u.find("p").length&&u.fadeOut("fast")};return{init:function(){b=a("#ptb_ctx_id");e=a("#ptb_ctx_slug");a("input[name^=ptb_ctx_singular_label_]");if(0===b.length)var d=!1;else u=a("#ptb_ajax_message"),f=b.val(),c=e.val(),d=!0;d&&h()}}}());g(function(){var b,e,f,c,u,h,d,q,l,m=function(b,e){var l=c.clone().appendTo(f),r=u.clone().prependTo(l),m=h.clone().appendTo(r),r=d.clone().appendTo(r),
k=q.clone().appendTo(l);a.event.trigger({type:"ptb_template_item_create",id:b,options:e,container:k});a.event.trigger({type:"ptb_template_item_create_"+e.type,id:b,options:e,title:m,container:k});l.data(b,e).attr("id",b);g(r);return l},g=function(b){a(b).on("click",function(b){b=a(this).parents(".ptb_template_item_wrapper");var d=b.attr("id");b.hide(500).data(d).deleted=!0})},n=function(){var d=a.map(b,function(a,b){return a.id}),d=d.filter(function(a){return 0<a});(d=0===d.length?0:Math.max.apply(null,
d))||(d=0);return d+1},p=function(){l.children().each(function(d,c){var e=a(this).data("type");a(c).on("click",function(d){d.preventDefault();d=n();var c=e+"_"+d;b[c]={id:d,type:e,deleted:!1,name:a(this).text(),meta_key:a(this).data("meta-key")};m(c,b[c]).hide().show(500);f.sortable("refresh")})})},v=function(){var b=!0;a("a.ptb_lightbox").click(function(d){d.preventDefault();if(!0===b){var c=a(this);a.ajax({url:ajaxurl,beforeSend:function(){b=!1},data:{action:"ptb_ajax_themes","ptb-ptt":k("ptb-ptt"),
template:c.data("template-type")},success:function(a){a&&(openLightBox(d,c.attr("title"),a,!1,!1),b=!0)}})}})};return{init:function(){if(0===a("#ptb_ptt_id").length)var r=!1;else e=a("#ptb_ptt_archive").length?a("#ptb_ptt_archive"):a("#ptb_ptt_single"),f=a("ul.ptb_template_items_wrapper"),c=a('<li class="ptb_template_item_wrapper"></li>'),u=a('<div class="ptb_template_item_title_wrapper"></div>'),h=a('<h4 class="ptb_template_item_title"></h4>'),d=a('<button type="button" class="ptb_template_item_remove" aria-label="Remove"><span aria-hidden="true">&times;</span></button>'),
q=a('<div class="ptb_template_item_body"></div>'),l=a(".ptb_template_buttons_wrapper"),r=!0;if(r)a:if(v(),p(),r=e.val()){try{b=a.parseJSON(r),a.isArray(b)&&(b={})}catch(w){break a}a.each(b,m);f.sortable({placeholder:"ui-state-highlight"});f.disableSelection();g()}}}}());g(function(){var b,e=function(){var e,c;b.children().each(function(){e=a(this);c=e.attr("id");a.event.trigger({type:"ptb_post_cmb_"+e.data("ptb-cmb-type")+"_handle",id:c,cmbItem:e});a.event.trigger({type:"ptb_post_cmb_"+e.data("ptb-cmb-type")+
"_body_handle",id:c,cmbItemBody:e.find(".ptb_post_cmb_body_wrapper")})})};return{init:function(){b=a(".ptb_post_cmb_wrapper");0!==b.length&&e()}}}());a(document).on("ptb_metabox_create_text",function(b){var e=b.container.find("input[id^="+b.id+"_default_value_]"),f=b.options.repeatable?"yes":"no";e.each(function(){var c=a(this).attr("id").replace(b.id+"_default_value_","");a(this).val(b.options.defaultValue[c])});a("#"+b.id+"_repeatable_"+f).prop("checked",!0)}).on("ptb_add_metabox_text",function(a){return{defaultValue:"",
repeatable:!1}}).on("ptb_metabox_save_text",function(b){b.options.defaultValue={};a("input[id^="+b.id+"_default_value_]").each(function(){var e=a(this).attr("id").replace(b.id+"_default_value_","");b.options.defaultValue[e]=a(this).val()});b.options.repeatable=0<a("#"+b.id+"_repeatable_yes:checked").length}).on("ptb_post_cmb_text_body_handle",function(b){function e(b){b.preventDefault();b.data.item.hide("blind",500,function(){a(this).remove()})}var f=b.cmbItemBody.find(".ptb_cmb_options_wrapper");
if(0===f.length)return!1;var c=f.children().first().clone();f.sortable({placeholder:"ui-state-highlight"});b.cmbItemBody.find(".ptb_cmb_option_add").click({wrapper:f},function(a){var h=c.clone();h.appendTo(f).hide().show("blind",500);h.find('input[name="'+b.id+'[]"]').val("");h.find("."+b.id+"_remove").click({item:h},e);a.data.wrapper.sortable("refresh")});f.children().each(function(){var c=a(this);c.find("."+b.id+"_remove").click({item:c},e)})}).on("ptb_metabox_create_email",function(a){a.container.find("input[id^="+
a.id+"_default_value]").val(a.options.defaultValue)}).on("ptb_add_metabox_email",function(a){return{defaultValue:""}}).on("ptb_metabox_save_email",function(b){b.options.defaultValue=a.trim(a("input[id^="+b.id+"_default_value]").val())}).on("ptb_metabox_create_number",function(b){b.options.range&&a("#"+b.id+"_range").prop("checked",!0)}).on("ptb_add_metabox_number",function(a){return{range:!1}}).on("ptb_metabox_save_number",function(b){b.options.range=a("input[id^="+b.id+"_range]:checked").val()}).on("ptb_metabox_create_textarea",
function(b){b.container.find("input[id^="+b.id+"_default_value_]").each(function(){var e=a(this).attr("id").replace(b.id+"_default_value_","");a(this).val(b.options.defaultValue[e])});b.options.editor&&a("#"+b.id+"_editor").prop("checked",!0)}).on("ptb_add_metabox_textarea",function(a){return{defaultValue:"",editor:!1}}).on("ptb_metabox_save_textarea",function(b){b.options.defaultValue={};a("input[id^="+b.id+"_default_value_]").each(function(){var e=a(this).attr("id").replace(b.id+"_default_value_",
"");b.options.defaultValue[e]=a(this).val()});b.options.editor=a("#"+b.id+"_editor").is(":checked")}).on("ptb_metabox_create_radio_button",function(b){function e(b){b.preventDefault();b.data.option.hide("blind",500,function(){a(this).remove()})}function f(b){b=a(b.data.option.selector).find('input[name^="'+b.data.id+'_options_"]').map(function(){return a(this).data("id")});b=b.filter(function(a){return 0<a});(b=0===b.length?0:Math.max.apply(null,b))||(b=0);return++b}function c(b){a(b.data.label.selector).remove();
a(b.data.selector).attr("checked",!1);a(this).attr("checked",!0).after(b.data.label)}var g=b.container.find("."+b.id+"_option_wrapper"),h=b.container.find("#"+b.id+"_options_wrapper");g.remove();a.each(b.options.options,function(d,f){var l=g.clone();l.appendTo(h);l.find('input[name^="'+b.id+'_options_"]').each(function(){var d=a(this).attr("name").replace(b.id+"_options_",""),d=d.replace("[]",""),d=f[d]?f[d]:f.name,c=a.isNumeric(f.id)?f.id:f.id.replace(b.id+"_","");a(this).val(d).attr("id",b.id+"_"+
c).data("id",c)});l.find("."+b.id+"_remove").click({option:l},e);var q=l.find('input[name="'+b.id+'_default_selected"]'),l=l.find("."+b.id+"_default_selected_label");f.selected||l.remove();q.attr("checked",f.selected).click({label:l,selector:q.selector},c)});h.sortable({placeholder:"ui-state-highlight"});b.container.find("#"+b.id+"_add_new").click({id:b.id,option:g,wrapper:h},function(a){a.preventDefault();var b=a.data.option.clone(),d=b.find('input[name="'+a.data.id+'_default_selected"]'),h=b.find("."+
a.data.id+"_default_selected_label");d.click({label:h,selector:d.selector},c);var g=f(a);b.find('input[name^="'+a.data.id+'_options_"]').val("").attr("id",a.data.id+"_"+g).data("id",g);d.attr("checked",!1);h.remove();b.find("."+a.data.id+"_remove").click({option:b},e);b.appendTo(a.data.wrapper).hide().show("blind",500);a.data.wrapper.sortable("refresh")})}).on("ptb_add_metabox_radio_button",function(a){return{options:[{name:"Option 1",id:1,selected:!0},{name:"Option 2",id:2,selected:!1}]}}).on("ptb_metabox_save_radio_button",
function(b){b.options.options={};a("#"+b.id+"_options_wrapper").children("li").each(function(e){var f=a(this).find("input[name^="+b.id+"_options_]"),c=a(this).find("input[name^="+b.id+"_default_selected]").is(":checked");b.options.options[e]={};f.each(function(){var f=a(this).attr("name").replace(b.id+"_options_",""),f=f.replace("[]","");b.options.options[e][f]=a(this).val();b.options.options[e].selected=c;b.options.options[e].id=a(this).attr("id")})})}).on("ptb_metabox_create_checkbox",function(b){function e(b){b=
a(b.data.option.selector).find('input[name^="'+b.data.id+'_options_"]').map(function(){return a(this).data("id")});b=Math.max.apply(null,b);return++b}function f(b){b.preventDefault();b.data.option.hide("blind",500,function(){a(this).remove()})}var c=b.container.find("."+b.id+"_option_wrapper"),g=b.container.find("#"+b.id+"_options_wrapper");c.remove();a.each(b.options.options,function(e,d){var h=c.clone();h.appendTo(g);h.find('input[name^="'+b.id+'_options_"]').each(function(){var c=a(this).attr("name").replace(b.id+
"_options_",""),c=c.replace("[]",""),c=d[c]?d[c]:d.name,e=a.isNumeric(d.id)?d.id:d.id.replace(b.id+"_","");a(this).val(c).attr("id",b.id+"_"+e).data("id",e)});h.find("."+b.id+"_remove").click({option:h},f);h.find('input[name="'+b.id+'_default_checked"]').attr("checked",d.checked)});g.sortable({placeholder:"ui-state-highlight"});b.container.find("#"+b.id+"_add_new").click({id:b.id,option:c,wrapper:g},function(a){a.preventDefault();var b=a.data.option.clone(),c=e(a);b.find('input[name^="'+a.data.id+
'_options_"]').val("").attr("id",a.data.id+"_"+c).data("id",c);b.find('input[name="'+a.data.id+'_default_checked"]').attr("checked",!1);b.find("."+a.data.id+"_remove").click({option:b},f);b.appendTo(a.data.wrapper).hide().show("blind",500);a.data.wrapper.sortable("refresh")})}).on("ptb_add_metabox_checkbox",function(a){return{options:[{name:"Option 1",id:1,checked:!1},{name:"Option 2",id:2,checked:!1}]}}).on("ptb_metabox_save_checkbox",function(b){b.options.options={};a("#"+b.id+"_options_wrapper").children("li").each(function(e){var f=
a(this).find("input[name^="+b.id+"_options_]"),c=a(this).find("input[name^="+b.id+"_default_checked]").is(":checked");b.options.options[e]={};f.each(function(){var f=a(this).attr("name").replace(b.id+"_options_",""),f=f.replace("[]","");b.options.options[e][f]=a(this).val();b.options.options[e].checked=c;b.options.options[e].id=a(this).attr("id")})})}).on("ptb_metabox_create_select",function(b){function e(b){b=a(b.data.option.selector).find('input[name^="'+b.data.id+'_options_"]').map(function(){return a(this).data("id")});
b=Math.max.apply(null,b);return++b}function f(b){b.preventDefault();b.data.option.hide("blind",500,function(){a(this).remove()})}b.container.find('input[name="'+b.id+'_multiple_selects"]').filter('[value="'+(b.options.multipleSelects?"Yes":"No")+'"]').attr("checked",!0);var c=b.container.find("."+b.id+"_option_wrapper"),g=b.container.find("#"+b.id+"_options_wrapper");c.remove();a.each(b.options.options,function(e,d){var h=c.clone();h.appendTo(g);h.find('input[name^="'+b.id+'_options_"]').each(function(){var c=
a(this).attr("name").replace(b.id+"_options_",""),c=c.replace("[]",""),c=d[c]?d[c]:d.name,e=a.isNumeric(d.id)?d.id:d.id.replace(b.id+"_","");a(this).val(c).attr("id",b.id+"_"+e).data("id",e)});h.find("."+b.id+"_remove").click({option:h},f)});g.sortable({placeholder:"ui-state-highlight"});b.container.find("#"+b.id+"_add_new").click({id:b.id,option:c,wrapper:g},function(a){a.preventDefault();var b=a.data.option.clone(),c=e(a);b.find('input[name^="'+a.data.id+'_options_"]').val("").attr("id",a.data.id+
"_"+c).data("id",c);b.find("."+a.data.id+"_remove").click({option:b},f);b.appendTo(a.data.wrapper).hide().show("blind",500);a.data.wrapper.sortable("refresh")})}).on("ptb_add_metabox_select",function(a){return{multipleSelects:!1,options:[{name:"Option 1",id:1},{name:"Option 2",id:2}]}}).on("ptb_metabox_save_select",function(b){b.options.multipleSelects="Yes"==a('input[name="'+b.id+'_multiple_selects"]:checked').val();b.options.options={};a("#"+b.id+"_options_wrapper").children("li").each(function(e){var f=
a(this).find("input[name^="+b.id+"_options_]");b.options.options[e]={};f.each(function(){var c=a(this).attr("name").replace(b.id+"_options_",""),c=c.replace("[]","");b.options.options[e][c]=a(this).val();b.options.options[e].id=a(this).attr("id")})})}).on("ptb_post_cmb_image_body_handle",function(b){a('input[name="'+b.id+'[]"][type="text"]').on("paste keyup keypress change",function(e){var c=a(this);a('input[name="'+b.id+'[]"][type="hidden"]').val("");setTimeout(function(){a("#image_"+b.id).css("background-image",
"url("+c.val()+")")},100)});var e;a("#image_"+b.id).on("click",function(f){f.preventDefault();e||(e=wp.media.frames.file_frame=wp.media({title:a(this).data("uploader_title"),button:{text:a(this).data("uploader_button_text")},library:{type:"image"},multiple:!1}),e.on("select",function(){var c=e.state().get("selection").first().toJSON();a('input[name="'+b.id+'[]"][type="hidden"]').val(c.id);a('input[name="'+b.id+'[]"][type="text"]').val(c.url);a("#image_"+b.id).css("background-image","url("+c.url+")")}));
e.open()})});var n="text textarea radio_button checkbox select image link_button".split(" "),p;for(p in n)a(document).on("ptb_template_item_create_"+n[p],function(a){a.title.html(a.options.name)});a(document).on("ptb_template_item_create_title",function(a){a.title.html("Title")}).on("ptb_template_item_create_content",function(a){a.title.html("Content")});g(function(){var b,e,f,c,g,h,d,k,l,m=function(){e.click(function(b){b.preventDefault();k=a("a.nav-tab-active").data("target");switch(k){case "cpt":b=
c;break;case "ctx":b=g;break;case "ptt":b=h;break;default:b=c}b={mode:l,target:k,list:b.find("input:checked").map(function(){return a(this).val()}).get()};a('input[name="ptb_plugin_options[ptb_ie_export]"]').val(JSON.stringify(b));a("form#ptb_form_export").submit()})},n=function(){f.addClass("disabled");a("input:file").change(function(){a(this).val()?f.removeClass("disabled"):f.addClass("disabled")});f.click(function(b){b.preventDefault();a("input:file").val()&&a("form#ptb_form_import").submit()})},
p=function(){a(".nav-tab-wrapper a").click(function(b){b.preventDefault();a(this).hasClass("nav-tab-active")||(a(this).addClass("nav-tab-active").siblings().removeClass("nav-tab-active"),b=a(this).attr("href"),a(".ptb_tab_content").not(b).css("display","none"),a(b).fadeIn())})},t=function(){d.change(function(a){v()})},v=function(){l=d.filter(":checked").val();var b=a('a[href="#ptb_export_cpt_list"]').siblings();"linked"===l?b.fadeOut().click():b.fadeIn()};return{init:function(){b=a("form#ptb_form_export");
if(0===b.length)var k=!1;else d=a('input[name="ptb_export_mode"]'),v(),e=a("#ptb_export"),f=a("#ptb_import"),c=a("#ptb_export_cpt_list"),g=a("#ptb_export_ctx_list"),h=a("#ptb_export_ptt_list"),k=!0;k&&(t(),p(),m(),n())}}}());a(function(){a(document).ready(function(){a(".ptb_interface select").wrap("<div class='ptb_custom_select'></div>");a(".ptb_number").keyup(function(){/^[1-9][0-9]*[.,]*[0-9]*$/gi.test(a(this).val())||a(this).val(a(this).val().replace(/[^0-9.,]/,""))});a(document).on("click",".ptb_remove_dialog_form input",
function(b){b.preventDefault();b.stopPropagation();b=a(this).closest("form");var e=a(this).data("confirm");if(e&&!confirm(e))return!1;a('input[name="remove"]',b).val(e?"1":"0");var f=a(".ptb_alert",b);a.ajax({type:"POST",url:ajaxurl,dataType:"json",data:b.serialize(),beforeSend:function(){f.removeClass("done error").addClass("busy").show()},complete:function(){f.removeClass("busy")},success:function(a){if(a){var b="";if(a.success){b="done";var c=function(){"1"==a.data?window.location.reload():window.location=
a.data}}else b="error",c=function(){a.data&&alert(a.data)};f.addClass(b);setTimeout(function(){f.animate({opacity:0},300,c)},800)}}})}).on("click",".ptb_register,.ptb_unregister,.ptb_cpt_copy,.ptb_ctx_copy",function(b){b.preventDefault();b.stopPropagation();a.ajax({type:"POST",url:this,dataType:"json",success:function(a){a&&("1"==a.data?window.location.reload():window.location=a.data)}})})})})})(jQuery);
jQuery(document).ready(function(){InitLanguageTabs();ThemplateDelete();var a=jQuery;a("body").on("click","a.ptb_custom_lightbox",function(k){k.preventDefault();k.stopPropagation();a(".ptb_current_ajax").removeClass("ptb_current_ajax");a(this).addClass("ptb_current_ajax");var g=a(this);a.ajax({url:this,success:function(a){a&&openLightBox(k,g.attr("title"),a,g.data("class"),g.data("top"))}})})});
var InitLanguageTabs=function(){var a=jQuery;a("body").on("click",".ptb_language_tabs li",function(k){k.preventDefault();if(!a(this).hasClass("ptb_active_tab_lng")){k=a(this).closest("ul");var g=k.next("ul");k.find(".ptb_active_tab_lng").removeClass("ptb_active_tab_lng");a(this).addClass("ptb_active_tab_lng");g.find(".ptb_active_lng").removeClass("ptb_active_lng");g.find("li").eq(a(this).index()).addClass("ptb_active_lng")}})},ThemplateDelete=function(){jQuery(".templates .delete a").click(function(a){confirm(ptb_js.template_delete)||
a.preventDefault()})},getDocHeight=function(){var a=document;return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},lightboxCloseKeyListener=function(a){27===a.keyCode&&(a.preventDefault(),closeLightBox(a))},openLightBox=function(a,k,g,n,p){a.preventDefault();var b=jQuery,e="ptb_"+Math.random().toString(36).substr(2,9);k='<div id="'+e+'" class="ptb_admin_lightbox ptb_icon_lightbox ptb_interface"><div class="ptb_lightbox_title">'+
(k?k:"")+'</div><a href="#" class="ptb_close_lightbox">\u00d7</a><div id="ptb_lightbox_container"><div class="ptb_lightbox_inner">'+g+'</div></div></div><div class="ptb_overlay"></div>';b(document).on("keyup",lightboxCloseKeyListener);b("body").append(k);p||(p=100);n&&b("#"+e).addClass(n);b.event.trigger("PTB.openlightbox",[a,e]);a=b("#"+e);a.next(".ptb_overlay").show();a.show().css("top",getDocHeight()).animate({top:p},800).find(".ptb_close_lightbox").click(closeLightBox)},closeLightBox=function(a){a.preventDefault();
a=jQuery;var k=a(this).closest(".ptb_admin_lightbox");a(document).off("keyup",lightboxCloseKeyListener);a.event.trigger("PTB.close_lightbox",this);k.animate({top:getDocHeight()},800,function(){k.next(".ptb_overlay").remove();k.remove()})};
