var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,m,e){b!=Array.prototype&&b!=Object.prototype&&(b[m]=e.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var m=0;return $jscomp.iteratorPrototype(function(){return m<b.length?{done:!1,value:b[m++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,m){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var e=0,c={next:function(){if(e<b.length){var q=e++;return{value:m(q,b[q]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};
$jscomp.polyfill=function(b,m,e,c){if(m){e=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var q=b[c];q in e||(e[q]={});e=e[q]}b=b[b.length-1];c=e[b];m=m(c);m!=c&&null!=m&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,e){return e})}},"es6","es3");
(function(b,m,e,c){function q(b,f){var d=b.nextAll(),h=d.first(),a="",a=d.last();if("="===f){if(!a.is(":visible"))return!1;a=a.offset().left+a.width()-h.offset().left-parseFloat(h.css("padding-right"))-parseFloat(h.css("padding-left"));d.not(":first").hide();h.data("placeholder",h.prop("placeholder")).prop("placeholder","")}else a=a.prev().width(),setTimeout(function(){"="!==f&&(d.show(),h.prop("placeholder",h.data("placeholder")))},800);h.width(a)}function r(e,f,d,h){var a={type:"container",layout:"flex",
direction:"row",classes:"ptb_group_meta_items",items:[{type:"label",text:f.label,classes:"ptb_group_meta_label"}]};f.hide_exist?a.items[0].classes+=" ptb_meta_exist_empty":a.items.push({classes:"ptb_meta_exist",name:"ptb_"+d+"_"+e+"_exist",type:"radio",tooltip:h.meta_exists_tooltip.replace("%s",f.label),values:1,onchange:function(a){a=b(b(this)[0].$el).nextAll();this.value()?a.hide():a.show()}});if(f.hide)return a;d={classes:"ptb_meta_items",name:f.name,hide:!1,values:f.values?f.values:""};d=b.extend(!0,
d,f);"number"===f.type&&(d.type="textbox");if("multiselect"===f.type){d.type="container";a.classes+=" ptb_group_meta_multiselect";d.html='<select id="'+f.name+'_select" style="width:100%;" multiple="multiple">';for(var m in f.values)d.html+='<option value="'+f.values[m].value+'">'+f.values[m].text+"</option>";d.html+="</select>"}else"textbox"===f.type?a.items.push({classes:"ptb_meta_small_select",name:e+"_slike",type:"listbox",tooltip:h.meta_like_start_tooltip.replace("%s",f.label),values:[{text:"",
value:""},{text:"%",value:"%"}]}):"number"===f.type&&a.items.push({classes:"ptb_meta_small_select ptb_meta_number_sign",name:e+"_from_sign",type:"listbox",values:[{text:"=",value:"="},{text:">=",value:">="},{text:">",value:">"}],onselect:function(a){q(b(b(this)[0].$el),this.value())}},{classes:"ptb_meta_small_input ptb_meta_placeholder ptb_meta_number_from",name:f.name+"_from",type:"textbox",value:"From"},{classes:"ptb_meta_space",type:"textbox"});"number"!==f.type?a.items.push(d):"number"===f.type&&
a.items.push({classes:"ptb_meta_small_input ptb_meta_placeholder ptb_meta_number_to",name:f.name+"_to",type:"textbox",value:"To"},{classes:"ptb_meta_small_select",name:e+"_to_sign",type:"listbox",values:[{text:"<=",value:"<="},{text:"<",value:"<"}]});"textbox"===f.type&&a.items.push({classes:"ptb_meta_small_select",name:e+"_elike",type:"listbox",tooltip:h.meta_like_end_tooltip.replace("%s",f.label),values:[{text:"",value:""},{text:"%",value:"%"}]});return a}"undefined"!==typeof ptb_shortcodes_button&&
ptb_shortcodes_button&&0<ptb_shortcodes_button.length&&tinymce.PluginManager.add("ptb",function(m,f){var d=[],h=[],a;for(a in ptb_shortcodes_button)if("object"===typeof ptb_shortcodes_button[a]){var c={text:ptb_shortcodes_button[a].name,body:{type:ptb_shortcodes_button[a].type},onclick:function(){var f=ptb_shortcodes_button[a].type;return function(a){b.ajax({url:ajaxurl,type:"POST",dataType:"json",data:{post_type:f,action:"ptb_ajax_get_post_type"},success:function(a){if(a){var e=[],d=a.data,g;for(g in d){var c=
{classes:"ptb_group_data_item",name:g,values:d[g].values?d[g].values:""},c=b.extend(!0,c,d[g]);e.push(c)}if("undefined"!==typeof a.tax&&a.tax.data){"undefined"!==typeof a.tax.title&&e.push({classes:"ptb_group_taxes",fixedWidt:!0,html:'<div data-group="taxes" class="ptb_group_container">'+a.tax.title+"<i></i></div>",height:100,type:"container"});var d=a.tax.data;for(k in d){c={label:d[k].label,name:d[k].name,fixedWidth:!0,tooltip:d[k].tooltip,html:'<select id="'+d[k].name+'_select"  style="width:100%;" multiple="multiple">',
type:"multiselect"===d[k].type?"container":d[k].type};if("multiselect"===d[k].type){for(var n in d[k].values)c.html+='<option value="'+d[k].values[n].value+'">'+d[k].values[n].text+"</option>";c.html+="</select>"}else c=b.extend(!0,c,d[k]);e.push(c)}}if("undefined"!==typeof a.field&&a.field.data){var k={type:"container",layout:"flex",direction:"column",align:"left",spacing:15,classes:"ptb_group_field",items:[]};"undefined"!==typeof a.field.title&&e.push({fixedWidth:!0,html:'<div data-group="field" class="ptb_group_container">'+
a.field.title+"<i></i></div>",height:100,type:"container"});n=a.field.data;for(g in n)h[n[g].name+("number"===n[g].type?"_from":"")]={type:n[g].type,key:g,field:!0},k.items.push(r(g,n[g],"field",a));e.push(k)}if("undefined"!==typeof a.meta&&a.meta.data){k={type:"container",layout:"flex",direction:"column",align:"left",spacing:15,classes:"ptb_group_meta",items:[]};"undefined"!==typeof a.meta.title&&e.push({fixedWidth:!0,html:'<div data-group="meta" class="ptb_group_container">'+a.meta.title+"<i></i></div>",
height:100,type:"container"});n=a.meta.data;for(g in n)h[n[g].name+("number"===n[g].type?"_from":"")]={type:n[g].type,key:g,field:!1},k.items.push(r(g,n[g],"meta",a));e.push(k)}m.windowManager.open({id:"ptb_shortcode_dialog",body:e,title:a.title,onOpen:function(){var a=b("input.mce-ptb_meta_placeholder"),d=b(".mce-ptb_meta_number_sign");0<a.length&&a.each(function(){b(this).prop("placeholder",b(this).val()).val("")});0<d.length&&d.each(function(){q(b(this),"=")})},onsubmit:function(a){var d=b.event.trigger("PTB.insert_shortcode",
{shortcode:"",type:f,data:a.data});if(!d){d='[ptb type="'+f+'"';var e=[],c;for(c in a.data){var l=h[c]?h[c].key:"",g=h[c]&&h[c].field?"ptb_field_":"ptb_meta_",k=!h[c]||h[c]&&!a.data[g+l+"_exist"];if(0<b("#"+c+"_select").length&&k){var p=b("#"+c+"_select").val();e[c]=p?p.join(", "):!1}else if(p=a.data[c],"string"===typeof p?p=b.trim(p):!0===p&&(p=1),h[c]){var n=!0;"textbox"!==h[c].type||p&&k?"number"===h[c].type&&(b.isNumeric(p)&&k?p=parseFloat(p):n=a.data[l+"_from_sign"]=e[l+"_from_sign"]=!1,k&&b.isNumeric(a.data[g+
l+"_to"])&&"="!==a.data[l+"_from_sign"]?a.data[g+l+"_to"]=parseFloat(a.data[g+l+"_to"]):(a.data[g+l+"_to"]=a.data[l+"_to_sign"]=e[g+l+"_to"]=e[l+"_to_sign"]=!1,"="===a.data[l+"_from_sign"]&&(a.data[l+"_from_sign"]=e[l+"_from_sign"]=!1))):n=a.data[l+"_slike"]=a.data[l+"_elike"]=e[l+"_slike"]=e[l+"_elike"]=!1;n&&(e[c]=p)}else if(p&&k){if(l=-1!==c.indexOf("_children")?"_children":-1!==c.indexOf("_operator")?"_operator":!1)if(l=c.replace(l,""),0<b("#ptb_tax_"+l+"_select").length&&(!b("#ptb_tax_"+l+"_select").val()||
"in"===p))continue;e[c]=p}}for(c in e)e[c]&&(d+=" "+c+'="'+e[c]+'"');d+="]"}m.insertContent(d)}})}}})}}(),classes:ptb_shortcodes_button[a].classes};d.push(c)}m.addButton("ptb",{icon:"ptb-favicon",type:"menubutton",title:"PTB Shortcodes",menu:d});b(e).ready(function(){b(e).off("change",".mce-ptb_meta_number_from,.mce-ptb_meta_number_to").on("change",".mce-ptb_meta_number_from,.mce-ptb_meta_number_to",function(a){b.isNumeric(b(this).val())||(a=parseFloat(b(this).val()),isNaN(a)&&(a=""),b(this).val(a))}).off("click",
".ptb_group_container").on("click",".ptb_group_container",function(a){a.preventDefault();a.stopPropagation();var c=b(this);a=b(".mce-ptb_group_"+b(this).data("group"));b(this).hasClass("ptb_shortcode_group_open")?a.slideUp(function(){c.removeClass("ptb_shortcode_group_open")}):a.slideDown(function(){c.addClass("ptb_shortcode_group_open")})});b("body").hasClass("wp-admin")||PTB.LoadCss(ptb_assets+"css/ptb-admin.css")})})})(jQuery,window,document);
