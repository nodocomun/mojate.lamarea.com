var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,d,c){a instanceof String&&(a=String(a));for(var f=a.length,b=0;b<f;b++){var k=a[b];if(d.call(c,k,b,a))return{i:b,v:k}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,c,f){if(d){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var b=a[f];b in c||(c[b]={});c=c[b]}a=a[a.length-1];f=c[a];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");var SliderVideos;
(function(a,d,c,f){SliderVideos={isTouch:!1,videos:{},init:function(b,c,g){g&&"row"!==g||(b=SliderVideos,b.isTouch=a("body").hasClass("builder-is-mobile"),b.makeSlider(c))},template:function(a,c,g,d){var e="";!Array.isArray(a)&&(a=JSON.parse(a));for(var b=0,f=a.length;b<f;++b){var k=a[b].background_slider_videos_video&&a[b].background_slider_videos_video||a[b][0]&&a[b][0];if(k){var l=a[b].background_slider_videos_image&&a[b].background_slider_videos_image||a[b][1]&&a[b][1];l&&(l=' style="background-image:url('+
l+')"');e+='<div class="tb_slider_videos_slide swiper-slide" data-index="'+b+'" data-video="'+k+'"'+l+"></div>"}}e&&(e='<div id="tb_slider_videos_'+c+'" class="tb_slider_videos" data-index="'+c+'"><div class="tb_slider_videos_wrapper swiper-wrapper">'+e+'</div><div class="tb_slider_videos_helper tb_slider_videos_pagination"></div>',d&&(e+='<div class="tb_slider_videos_helper tb_slider_videos_nav"><a class="tb_slider_videos_nav_arrow tb_slider_videos_nav_arrow_prev">&lsaquo;</a><a class="tb_slider_videos_nav_arrow tb_slider_videos_nav_arrow_next">&rsaquo;</a>',
this.isTouch||(e+='<a class="tb_slider_videos_nav_control tb_slider_videos_nav_control_play"><span></span></a><a class="tb_slider_videos_nav_control tb_slider_videos_nav_control_pause"><span></span><span></span></a>'),e+="</div>"),g&&(e+='<div class="tb_slider_videos_helper tb_slider_videos_progressbar"><div></div></div>'),e+="</div>");return e},makeSlider:function(b){function c(){d.each(function(b){var c=a(this);b=c.closest(".themify_builder_content").data("postid")+"_"+b;var d="show"===c.data("tb_slider_progressbar"),
f="yes"===c.data("tb_slider_autoplay"),e="show"===c.data("tb_slider_controls"),k="yes"===c.data("tb_slider_mute");c.find(".tb_slider_videos").remove();b=g.template(c.data("tb_slider_videos"),b,d,e);if(!b)return!0;this.insertAdjacentHTML("afterbegin",b);var h=c.find(".tb_slider_videos").first();b=h.find(".tb_slider_videos_nav");var m=b.find(".tb_slider_videos_nav_control_play");var n=b.find(".tb_slider_videos_nav_control_pause");h.swiper({effect:"fade",fade:{crossFade:!0},speed:500,setWrapperSize:!0,
loop:!0,loopedSlides:1,pagination:h.find(".tb_slider_videos_pagination"),paginationClickable:!0,prevButton:b.find(".tb_slider_videos_nav_arrow_prev"),nextButton:b.find(".tb_slider_videos_nav_arrow_next"),onInit:function(a){c.css("z-index",0);h.show();!g.isTouch&&e&&g.controlEvents(a);1===a.bullets.length&&(h.find(".tb_slider_videos_pagination,.tb_slider_videos_nav_arrow").hide(),h.find(".tb_slider_videos_nav").css("width",50))},onSlideChangeStart:function(b){if(!g.isTouch){var c=h.data("index"),e=
a(h.find(".tb_slider_videos_slide").get(b.activeIndex)),l=e.data("index");e.css({"z-index":0,background:"none"});e.ThemifyBgVideo({url:e.data("video"),doLoop:!1,ambient:k,autoPlay:f,id:c+"_"+l,onPlay:function(){e.hasClass("swiper-slide-active")&&(m.hide(),n.show())},onPause:function(){e.hasClass("swiper-slide-active")&&(m.show(),n.hide())},onEnd:function(){1===h.find(".swiper-slide-active").length?1!==b.bullets.length?b.slideNext():f&&this.play():b.slideNext()}});c=a(e.data("plugin_ThemifyBgVideo").getPlayer());
c.on("waiting seeking",function(){m.addClass("loading");n.addClass("loading")}).on("canplay canplaythrough playing ended seeked",function(){m.removeClass("loading");n.removeClass("loading")});if(d){var p=h.find(".tb_slider_videos_progressbar div");c.on("timeupdate",function(a){a=100*this.currentTime/this.duration;isNaN(a)&&(a=0);p.css("width",a+"%")}).on("loadedmetadata",function(a){b.container.find(".tb_slider_videos_slide:not(.swiper-slide-active)").empty()})}}},onSlideChangeEnd:function(a){g.isTouch||
a.container.find(".tb_slider_videos_slide:not(.swiper-slide-active)").empty()}})})}var g=this,d=a("[data-tb_slider_videos]",b);b&&b.data("tb_slider_videos")&&(d=d.add(b));0<d.length&&Themify.LoadAsync(themify_vars.url+"/js/bigvideo.js",function(){Themify.LoadAsync(tb_slider_videos_vars.url+"assets/swiper.jquery.min.js",c,null,null,function(){return"undefined"!==typeof a.fn.swiper})},null,null,function(){return"undefined"!==typeof a.fn.ThemifyBgVideo||g.isTouch})},controlEvents:function(b){var c=b.container;
c.on("click",".tb_slider_videos_nav_control:not( .loading )",function(d){d.preventDefault();d.stopPropagation();d=a(c.find(".tb_slider_videos_slide").get(b.activeIndex));d.data("plugin_ThemifyBgVideo")&&(d=d.data("plugin_ThemifyBgVideo"),a(this).hasClass("tb_slider_videos_nav_control_play")?d.play():d.pause())})}};SliderVideos.init();a("body").on("builder_load_module_partial",SliderVideos.init)})(jQuery,window,document);
