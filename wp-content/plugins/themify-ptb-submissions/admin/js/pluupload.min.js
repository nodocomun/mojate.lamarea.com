var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,d){a instanceof String&&(a=String(a));for(var b=a.length,c=0;c<b;c++){var g=a[c];if(e.call(d,g,c,a))return{i:c,v:g}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,d){a!=Array.prototype&&a!=Object.prototype&&(a[e]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,d,b){if(e){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var c=a[b];c in d||(d[c]={});d=d[c]}a=a[a.length-1];b=d[a];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
function ptb_create_pluploader(a){var e=a.attr("id").replace("plupload-upload-ui",""),d=jQuery,b=[],c=a.closest("form"),g=c.find(".ptb-submission-error"),b=JSON.parse(JSON.stringify(ptb_plupload_config));b.browse_button=e;b.container=a.closest("form").attr("id");b.file_data_name=a.data("name")?a.data("name"):b.file_data_name;b.multipart_params={post_type:"",_nonce:"",action:""};a.data("formats")&&(b.filters=a.data("formats"));var f=new plupload.Uploader(b);f.bind("Init");f.init();f.bind("FilesAdded",
function(b,d){if(!a.data("confirm")||confirm(a.data("confirm")))f.settings.multipart_params.post_type=c.find('input[name="post_type"]').val(),f.settings.multipart_params.action=c.find('input[name="action"]').val(),f.settings.multipart_params._nonce=c.find('input[name="_nonce"]').val(),b.refresh(),b.start(),c.addClass("ptb-frontend-wait")});f.bind("Error",function(a,b){b.message&&g.text(b.message)});f.bind("FileUploaded",function(a,b,e){c.removeClass("ptb-frontend-wait");if(e){var f=JSON.parse(e.response);
if(f.error)g.text(f.error);else if(f.success){var h=c.find(".ptb-frontend-loader");h.fadeOut().addClass("done").fadeIn("fast",function(){f.redirect?window.location.href=f.redirect:setTimeout(function(){h.fadeOut(2E3,function(){d(".ptb_close_lightbox").trigger("click")})},1E3)})}}})};
